generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model usuario {
  id            String     @id @default(uuid()) @map("_id")
  email         String     @unique
  name          String
  doc           String     @unique
  phone_number  String
  tentativas    Int        @default(0)
  password      String
  active_acount Boolean    @default(false)
  roles         String     @default("COMMON_USER")
  created_at    DateTime   @default(now())
  updated_at    DateTime   @updatedAt()
  endereco      endereco[]
}

model product {
  id             String   @id @default(uuid()) @map("_id")
  user_create_id String
  name           String
  description    String
  price          Float
  stock          Int      @default(1)
  category       String
  available      Boolean  @default(true)
  created_at     DateTime @default(now())
  updated_at     DateTime @updatedAt()
  image_url      String
}

model endereco {
  id                 String   @id @default(uuid()) @map("_id")
  usuario_id         String
  usuario            usuario  @relation(fields: [usuario_id], references: [id])
  name_address       String
  address            String
  number_address     String
  cep                String
  city_state_address String
  main_address       Boolean
  active             Boolean  @default(true)
  complement         String
  created_at         DateTime @default(now())
  updated_at         DateTime @updatedAt()
}
